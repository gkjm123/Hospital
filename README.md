# 가상 입원 시스템
간호사로 일했을 때의 기억을 살려 만든 `가상의 입원 진료 시스템`입니다.

### 프로젝트 기능 및 설계

* 회원가입 기능
  * 사용자는 의사와 환자로 나뉘며 각각 JWT 토큰 방식으로 회원가입을 진행합니다.
  * 의사는 로그인ID, 패스워드, 이름, 전화번호, 전공을 입력받습니다.
  * 환자는 로그인ID, 패스워드, 이름, 전화번호, 나이, 성별, 주소를 입력받습니다.

* 입원 기능
  * 환자는 접수 가능한 의사 목록을 조회후, 원하는 의사ID 를 입력하여 접수합니다.
  * 입원이 등록되면 접수건에 담당의사, 환자, 진단명, 접수상태, 비용, 접수일, 입원일이 세팅됩니다.

* 처방 기능
  * 의사는 본인에게 등록된 접수건을 확인하고, 접수ID 와 처방 폼을 통해 처방합니다.
  * 약 처방과 검사 처방으로 나뉘며, 폼을 통해 정보를 입력받습니다.
  * 공통으로 환자의 접수번호(regist), 처방종류(약/검사), 처방상태, 처방 시작일을 입력받습니다.
  * 약 처방은 약타입(이름,비용,종류 포함), 복용량, 복용법, 복용일수를 입력받습니다.
  * 검사 처방은 검사타입(이름,비용 포함)를 입력받습니다.
  * 처방은 조회, 삭제가 가능합니다.(완료된 처방 삭제 불가)

* 기록 기능
  * 의사는 접수건별 진단명, 검사기록, 소견기록을 남길수 있습니다.
  * 진단명은 병명을 입력받습니다.
  * 검사기록은 검사처방ID, 검사결과를 입력받습니다.
  * 소견기록은 접수건ID, 소견기록을 입력받습니다.
  * 결과를 입력, 수정, 삭제 할 수 있습니다.
 
* 약 불출 기능
  * 환자는 본인에게 처방된 약을 조회할 수 있습니다.
  * 약처방ID 를 입력하면 처방받은 본인인지 확인후 약이 불출되고 처방 상태가 완료로 변경됩니다.
 
* 퇴원 기능
  * 의사는 입원상태인 접수건에 대해 퇴원 지시를 할 수 있습니다.
  * 퇴원 지시시 등록된 모든 처방의 비용이 합산되며, 접수상태가 정산대기중으로 바뀝니다.
  * 환자가 정산대기중인 상태에서 비용을 지불하면 접수상태가 퇴원완료로 변경됩니다.
 
### ERD
![hospital](https://github.com/user-attachments/assets/3eb68b1e-867f-41f0-a248-dc80913c9ca1)

### 사용 기술
* MySQL, Security, JWT, Swagger

### 문제와 해결
* 중복되는 필드를 가진 엔티티가 많아져서 BaseEntity 를 생성후 상속받도록 했고
  SuperBuilder 를 이용해 상속받은 필드도 함께 빌드 할 수 있게 수정했습니다.
  
